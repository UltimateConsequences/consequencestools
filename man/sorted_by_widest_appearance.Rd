% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/sort-var-description.R
\name{sorted_by_widest_appearance}
\alias{sorted_by_widest_appearance}
\title{Sort variable description by widest appearance across groups}
\usage{
sorted_by_widest_appearance(var_description, def, grouping_var)
}
\arguments{
\item{var_description}{A list containing variable metadata with elements:
\itemize{
  \item \code{r_variable}: Name of the variable in the dataframe
  \item \code{levels}: Character vector of level names
  \item \code{colors}: Named vector of colors for each level
  \item \code{levels_es}: (Optional) Spanish translations of levels
  \item \code{colors_es}: (Optional) Spanish-named color vector
}}

\item{def}{The dataframe containing the data to analyze}

\item{grouping_var}{The variable to group by when calculating width of
appearance (e.g., pres_admin, year). Use unquoted variable name.}
}
\value{
A modified variable description list with levels and colors reordered
  by widest appearance. Includes a new \code{$ranked} element with the
  sorted levels.
}
\description{
Reorders the levels and colors in a variable description list based on how
widely each level appears across a grouping variable. Levels that appear in
more groups are ranked higher. For example, sorting protest domains by how
many presidential administrations each domain appears in.
}
\examples{
\dontrun{
# Sort protest domains by how many presidential administrations they appear in
deaths <- assign_protest_domain_levels(deaths_aug24)
pd_sorted <- sorted_by_widest_appearance(
  var_description = lev$protest_domain,
  def = deaths,
  grouping_var = pres_admin
)
}
}
