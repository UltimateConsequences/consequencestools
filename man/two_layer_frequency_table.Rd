% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/freq-table-hierarchical.R
\name{two_layer_frequency_table}
\alias{two_layer_frequency_table}
\title{Two-layer frequency table (data)}
\usage{
two_layer_frequency_table(
  dataset,
  variable1,
  variable2,
  sort = TRUE,
  threshold = 1
)
}
\arguments{
\item{dataset}{A data.frame. The input dataset.}

\item{variable1}{Column name (unquoted) for the primary grouping variable
(tidy-eval).}

\item{variable2}{Column name (unquoted) for the secondary grouping variable
(tidy-eval).}

\item{sort}{Logical. If TRUE, sort groups by descending counts. Default:
TRUE.}

\item{threshold}{Integer. Minimum count threshold for including a secondary
category. Secondary categories with counts below `threshold` will be
combined into an "Other" row. Default: 1.}
}
\value{
A data.frame (ft.combined) with columns for the primary variable,
  counts (n), percentage (pct), secondary variable, and secondary counts
  (n_2).
}
\description{
Compute a two-layer frequency table (unformatted data) that contains primary
counts and percentages for `variable1` and the secondary breakdown by
`variable2`. This function returns the combined data.frame (ft.combined)
which can be further processed or passed to a kable/printing function.

The `variable1` and `variable2` arguments use tidy-eval (unquoted column
names).
}
\examples{
library(dplyr)
mtcars2 <- mtcars \%>\% mutate(cyl = as.factor(cyl), gear = as.factor(gear))
two_layer_frequency_table(mtcars2, cyl, gear, sort = TRUE, threshold = 1)

}
